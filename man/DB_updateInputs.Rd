% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/DB_updateInputs.R
\name{DB_updateInputs}
\alias{DB_updateInputs}
\title{Update Queue Statuses Based on Crawl Results}
\usage{
DB_updateInputs(
  db_con,
  batch_inputs,
  max_retries = 3,
  tab_queue = "tab_queue",
  tab_crawl = "tab_crawl"
)
}
\arguments{
\item{db_con}{A valid \code{DBIConnection}.}

\item{batch_inputs}{Character vector of URLs to update.}

\item{max_retries}{Integer(1). Maximum retry count before marking "failed".}

\item{tab_queue}{Character(1). Name of the queue table (default: "tab_queue").}

\item{tab_crawl}{Character(1). Name of the crawl results table (default: "tab_crawl").}
}
\value{
Invisibly returns TRUE. Throws an error if inputs are invalid.
}
\description{
For a given batch of input URLs, atomically reconcile their statuses in the
queue table against the crawl table. URLs are moved to:
\itemize{
\item "pending" if never crawled,
\item "done" if any crawl_success = 1,
\item "failed" if all attempts failed and retry_count > max_retries,
\item otherwise remain or revert to "pending".
}
}
\examples{
con <- DB_load("mydb.sqlite")
urls <- c("https://...1", "https://...2")
DB_updateInputs(con, urls, max_retries = 3)
}
